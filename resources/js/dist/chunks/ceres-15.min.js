(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{317:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"add-item-to-basket-overlay"}},[s("div",{staticClass:"modal fade"},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[t.basketItem?s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("div",{staticClass:"modal-title h5"},[t._v(t._s(t.$translate("Ceres::Template.singleItemAdded")))]),t._v(" "),t._m(0),t._v(" "),t._m(1)]),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"row is-table-row"},[s("div",{staticClass:"col-md-4",staticStyle:{"min-height":"80px"}},[s("img",{staticClass:"img-fluid mx-auto",staticStyle:{"max-height":"140px"},attrs:{src:t.imageUrl,alt:t.imageAlternativeText||t.itemName,title:t.itemName}})]),t._v(" "),s("div",{staticClass:"col-md-8"},[s("p",[s("strong",[t._v(t._s(t.itemName))]),t._v(" "),s("br"),t._v(" "),t.countAdditionalBasketItems>0?s("span",[t._v(t._s(t.$translate("Ceres::Template.basketItemOverlayAdditionalCount",{count:t.countAdditionalBasketItems})))]):t._e()]),t._v(" "),s("p",{staticClass:"small"},[s("strong",[s("span",{staticClass:"text-muted"},[t._v(t._s(t.basketItem.quantity)+" x ")]),t._v(" "),s("span",[t._v(t._s(t._f("currency")(t.price)))])])]),t._v(" "),t._l(t.variation.attributes,(function(e){return s("p",{staticClass:"small"},[s("strong",[t._v(t._s(e.attribute.names.name))]),t._v(":\n                                "),s("span",[t._v(t._s(e.value.names.name))])])})),t._v(" "),t.shownOrderProperties.length?s("div",{staticClass:"small"},[s("div",{staticClass:"font-weight-bold my-1"},[t._v(t._s(t.$translate("Ceres::Template.singleItemAdditionalOptions"))+":")]),t._v(" "),s("ul",{staticClass:"ml-0 pl-3"},t._l(t.shownOrderProperties,(function(e){return s("li",{key:e.propertyId},[s("span",{staticClass:"d-block text-truncate"},[s("strong",{class:{colon:e.type.length>0}},[t._v(t._s(e.name)+" ("+t._s(t.$translate("Ceres::Template.singleItemIncludeAbbr"))+" "+t._s(t._f("currency")(t._f("propertySurcharge")(t.basketItem.variation.data.properties,e.propertyId)))+")")]),t._v(" "),s("span",[s("order-property-value",{attrs:{property:e}})],1)])])})),0)]):t._e()],2)])]),t._v(" "),s("div",{staticClass:"modal-footer"},[s("a",{directives:[{name:"waiting-animation-infinite",rawName:"v-waiting-animation-infinite"}],staticClass:"btn btn-outline-primary btn-medium mr-2",attrs:{href:t.urls.basket,rel:"nofollow"}},[s("i",{staticClass:"fa fa-shopping-cart",attrs:{"aria-hidden":"true"}}),t._v("\n                        "+t._s(t.$translate("Ceres::Template.singleItemBasket"))+"\n                    ")]),t._v(" "),s("a",{directives:[{name:"waiting-animation-infinite",rawName:"v-waiting-animation-infinite"}],staticClass:"btn btn-primary btn-medium",attrs:{href:t.urls.checkout,rel:"nofollow"}},[s("i",{staticClass:"fa fa-arrow-right",attrs:{"aria-hidden":"true"}}),t._v("\n                        "+t._s(t.$translate("Ceres::Template.singleItemCheckout"))+"\n                    ")])]),t._v(" "),t._t("extendOverlayButtons")],2):t._e()])])])};a._withStripped=!0;var i=s(1),r=s(5);const n=s(43),l=s(3);var o={props:{defaultTimeToClose:{type:Number,default:15}},data:()=>({price:0,basketItem:null,countAdditionalBasketItems:0}),mounted(){"overlay"===App.config.basket.addItemToBasketConfirm&&(l.listen("AfterBasketItemUpdate",t=>{const e=t.basketItems[0];if(!this.isBasketItemQuantityUpdate){const t=this.basketItems.find(t=>t.id===e.id)||{};this.showItem(t)}}),l.listen("AfterBasketItemAdd",t=>{this.showItem(t.basketItems[0],t.basketItems.length-1)}))},computed:{...Object(r.e)({basketItems:t=>t.basket.items,isBasketItemQuantityUpdate:t=>t.basket.isBasketItemQuantityUpdate}),isLastBasketEntrySet(){return!Object(i.d)(this.basketItem)},variation(){return this.basketItem&&this.basketItem.variation?this.basketItem.variation.data:null},itemName(){return this.isLastBasketEntrySet?this.$options.filters.itemName(this.variation):""},imageUrl(){if(this.isLastBasketEntrySet){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImage(t)}return""},imageAlternativeText(){if(this.isLastBasketEntrySet){const t=this.$options.filters.itemImages(this.variation.images,"urlPreview");return this.$options.filters.itemImageAlternativeText(t)}return""},urls:()=>({basket:App.urls.basket,checkout:App.urls.checkout}),shownOrderProperties(){return this.basketItem.basketItemOrderParams.filter(t=>!!this.variation.properties.find(e=>e.propertyId==t.propertyId))}},methods:{showItem(t,e){this.basketItem=t,this.countAdditionalBasketItems=e,this.price=t.price,n.findModal(document.getElementById("add-item-to-basket-overlay")).setTimeout(1e3*this.defaultTimeToClose).show()}}},m=s(4),d=Object(m.a)(o,a,[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"text-muted ml-auto"},[e("span",{staticClass:"timer"}),this._v("s")])},function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close ml-0 pl-1",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("Ã—")])])}],!1,null,null,null);d.options.__file="node_modules/Ceres/resources/js/src/app/components/basket/AddItemToBasketOverlay.vue";e.default=d.exports}}]);
//# sourceMappingURL=ceres-15.min.js.map