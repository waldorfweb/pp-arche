{"version":3,"sources":["webpack:///./node_modules/Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue?f2e5","webpack:///./node_modules/Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue?3946","webpack:///node_modules/Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue","webpack:///./node_modules/Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","itemscope","itemtype","ref","staticClass","_l","singleImages","image","href","url","_uid","alt","getAltText","title","getImageName","_v","showThumbs","id","carouselImages","imagePreview","index","on","click","$event","goTo","class","active","currentItem","_e","_withStripped","props","maxQuantity","type","Number","default","imageUrlAccessor","String","Boolean","showDots","animationStyle","pluginPath","inject","itemId","data","computed","$store","getters","orderByPosition","$options","filters","itemImages","currentVariation","images","slice","watch","val","oldVal","setTimeout","reInitialize","deep","$nextTick","loadLightbox","then","initCarousel","initThumbCarousel","catch","event","console","log","methods","length","$owl","$","$refs","single","trigger","html","find","removeClass","remove","$thumbs","thumbs","imageCount","getImageCount","carouselSettings","autoHeight","dots","items","lazyLoad","rewind","margin","mouseDrag","nav","navClass","navContainerClass","navText","smartSpeed","onChanged","page","animateOut","owlCarousel","window","lightbox","option","wrapAround","loop","center","list","sort","entryA","entryB","position","alternate","itemName","name","Promise","resolve","reject","script","document","querySelector","createElement","src","addEventListener","body","appendChild","component","options","__file"],"mappings":"kGAAA,IAAIA,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACTC,EAAKJ,EAAIK,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CAAEE,MAAO,CAAEC,UAAW,GAAIC,SAAU,4BACpC,CACEJ,EACE,MACA,CACEK,IAAK,SACLC,YACE,+DAEJV,EAAIW,GAAGX,EAAIY,cAAc,SAASC,GAChC,OAAOT,EAAG,MAAO,CAAEM,YAAa,YAAc,CAC5CN,EACE,IACA,CACEE,MAAO,CACLQ,KAAMD,EAAME,IACZ,gBAAiB,oBAAsBf,EAAIgB,OAG/C,CACEZ,EAAG,MAAO,CACRM,YAAa,WACbJ,MAAO,CACL,WAAYO,EAAME,IAClBE,IAAKjB,EAAIkB,WAAWL,GACpBM,MAAOnB,EAAIoB,aAAaP,aAOpC,GAEFb,EAAIqB,GAAG,KACPrB,EAAIsB,WACAlB,EACE,MACA,CACEK,IAAK,SACLC,YAAa,oDACbJ,MAAO,CAAEiB,GAAI,mBAEfvB,EAAIW,GAAGX,EAAIwB,gBAAgB,SAASC,EAAcC,GAChD,OAAOtB,EAAG,MAAO,CAAEM,YAAa,YAAc,CAC5CN,EACE,MACA,CACEM,YAAa,kBACbiB,GAAI,CACFC,MAAO,SAASC,GACd,OAAO7B,EAAI8B,KAAKJ,MAItB,CACEtB,EAAG,WAAY,CACb2B,MAAO,CAAEC,OAAQhC,EAAIiC,cAAgBP,GACrCpB,MAAO,CACL,gBAAiB,8BACjB,YAAamB,EAAaV,IAC1BE,IAAKjB,EAAIkB,WAAWO,GACpBN,MAAOnB,EAAIoB,aAAaK,OAI9B,QAIN,GAEFzB,EAAIkC,QAKdnC,EAAOoC,eAAgB,E,WCnF+H,G,OC8BvI,CACXC,MAAO,CACHC,YACA,CACIC,KAAMC,OACNC,QAAS,IAEbC,iBACA,CACIH,KAAMI,OACNF,QAAS,OAEblB,WACA,CACIgB,KAAMK,QACNH,SAAS,GAEbI,SACA,CACIN,KAAMK,QACNH,SAAS,GAEbK,eACA,CACIP,KAAMI,OACNF,QAAS,YAEbM,WACA,CACIR,KAAMI,OACNF,QAAS,KAIjBO,OAAQ,CACJC,OAAQ,CACJR,QAAS,OAIjBS,KAAI,KAEO,CACHhB,YAAa,IAIrBiB,SACA,CACI,mBACI,OAAOjD,KAAKkD,OAAOC,QAAWnD,KAAK+C,OAAR,0BAG/B,iBAEI,OAAO/C,KAAKoD,gBACRpD,KAAKqD,SAASC,QAAQC,WAClBvD,KAAKwD,iBAAiBC,OACtB,eAENC,MAAM,EAAG1D,KAAKoC,cAGpB,eAEI,OAAOpC,KAAKoD,gBACRpD,KAAKqD,SAASC,QAAQC,WAClBvD,KAAKwD,iBAAiBC,OACtBzD,KAAKwC,mBAEXkB,MAAM,EAAG1D,KAAKoC,eAIxBuB,MAAO,CACHH,iBACA,CACI,QAAQI,EAAKC,GAELD,IAAQC,GAERC,WAAW,KAEP9D,KAAK+D,gBACN,IAGXC,MAAM,IAId,UAEIhE,KAAKiE,UAAU,KAEXjE,KAAKkE,eAAeC,KAAK,KAEjBnE,KAAKoE,eACLpE,KAAKqE,sBAERC,MAAMC,IAEHC,QAAQC,IAAI,+BAAgCF,QAK5DG,QACA,CACI,gBAEI,OAAO1E,KAAKuB,eAAeoD,OAAS3E,KAAKoC,YAAcpC,KAAKoC,YAAcpC,KAAKuB,eAAeoD,QAGlG,eAEI,MAAMC,EAAOC,EAAE7E,KAAK8E,MAAMC,QAE1BH,EAAKI,QAAQ,wBACbJ,EAAKK,KAAKL,EAAKM,KAAK,oBAAoBD,QAAQE,YAAY,cAC5DP,EAAKM,KAAK,aAAaE,SAEvB,MAAMC,EAAUR,EAAE7E,KAAK8E,MAAMQ,QAE7BD,EAAQL,QAAQ,wBAChBK,EAAQJ,KAAKI,EAAQH,KAAK,oBAAoBD,QAAQE,YAAY,cAClEE,EAAQH,KAAK,aAAaE,SAE1BpF,KAAKoE,eACLpE,KAAKqE,qBAGT,eAEI,MAAMkB,EAAavF,KAAKwF,gBAClBC,EAAmB,CACrBC,YAAmB,EACnBC,KAAmB3F,KAAK2C,SACxBiD,MAAmB,EACnBC,UAAmB,EACnBC,QAAmB,EACnBC,OAAmB,GACnBC,UAAmBT,EAAa,EAChCU,IAAmBV,EAAa,EAChCW,SAAmB,CACf,4CACA,8CAEJC,kBAAmB,GACnBC,QAAmB,CACf,gFACA,kFAEJC,WAAmB,IACnBC,UAAW/B,IAEQM,EAAE7E,KAAK8E,MAAMQ,QAErBN,QAAQ,kBAAmB,CAC9BT,EAAMgC,KAAK9E,MACX,QAKgB,aAAxBzB,KAAK4C,iBAEL6C,EAAiBe,WAAaxG,KAAK4C,gBAGvCiC,EAAE7E,KAAK8E,MAAMC,QAAQ0B,YAAYhB,GAE5B,YAAkBiB,OAAOC,WAE1BA,SAASC,OAAO,CACZC,YAAY,IAIpBhC,EAAE7E,KAAK8E,MAAMC,QAAQrD,GAAG,uBAAwB6C,IAE5CvE,KAAKgC,YAAcuC,EAAMgC,KAAK9E,SAItC,oBAEIoD,EAAE7E,KAAK8E,MAAMQ,QAAQmB,YAAY,CAC7Bf,YAAmB,EACnBC,MAAmB,EACnBC,MAAmB,EACnBC,UAAmB,EACnBiB,MAAmB,EACnBf,OAAmB,GACnBC,WAAmB,EACnBe,QAAmB,EACnBd,KAAmB,EACnBC,SAAmB,CACf,4CACA,8CAEJC,kBAAmB,GACnBC,QAAmB,CACf,gFACA,kFAEJC,WAAmB,OAI3B,KAAK5E,GAEYoD,EAAE7E,KAAK8E,MAAMC,QAErBC,QAAQ,kBAAmB,CAC5BvD,EACA,OAIR2B,gBAAgB4D,GAELA,EAAKC,KACR,CAACC,EAAQC,IAEDD,EAAOE,SAAWD,EAAOC,SAElB,EAEPF,EAAOE,SAAWD,EAAOC,UAEjB,EAGL,GAInB,WAAWxG,GAEP,OAAOA,GAASA,EAAMyG,UAAYzG,EAAMyG,UAAYrH,KAAKqD,SAASC,QAAQgE,SAAStH,KAAKwD,mBAG5F,aAAa5C,GAET,OAAOA,GAASA,EAAM2G,KAAO3G,EAAM2G,KAAOvH,KAAKqD,SAASC,QAAQgE,SAAStH,KAAKwD,mBAGlF,eAEI,OAAO,IAAIgE,QAAQ,CAACC,EAASC,KAEzB,MAAMC,EAASC,SAASC,cAAc,yBAEtC,GAAK,YAAkBF,GAKvB,CACI,MAAMA,EAASC,SAASE,cAAc,UAEtCH,EAAOtF,KAAO,kBACdsF,EAAOrG,GAAK,iBACZqG,EAAOI,IAAU/H,KAAK6C,WAAT,2BAEb8E,EAAOK,iBAAiB,OAAQ,IAAMP,KAAW,GACjDE,EAAOK,iBAAiB,QAASzD,GAASmD,EAAOnD,IAAQ,GAEzDqD,SAASK,KAAKC,YAAYP,QAb1BF,U,OCvRhBU,EAAY,YACd,EACArI,EHyEoB,IGvEpB,EACA,KACA,KACA,MAuBFqI,EAAUC,QAAQC,OAAS,gFACZ,UAAAF,E","file":"chunks/ceres-30.min.js","sourcesContent":["var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { attrs: { itemscope: \"\", itemtype: \"http://schema.org/Thing\" } },\n    [\n      _c(\n        \"div\",\n        {\n          ref: \"single\",\n          staticClass:\n            \"single-carousel owl-carousel owl-theme owl-single-item mt-0\"\n        },\n        _vm._l(_vm.singleImages, function(image) {\n          return _c(\"div\", { staticClass: \"prop-1-1\" }, [\n            _c(\n              \"a\",\n              {\n                attrs: {\n                  href: image.url,\n                  \"data-lightbox\": \"single-item-image\" + _vm._uid\n                }\n              },\n              [\n                _c(\"img\", {\n                  staticClass: \"owl-lazy\",\n                  attrs: {\n                    \"data-src\": image.url,\n                    alt: _vm.getAltText(image),\n                    title: _vm.getImageName(image)\n                  }\n                })\n              ]\n            )\n          ])\n        }),\n        0\n      ),\n      _vm._v(\" \"),\n      _vm.showThumbs\n        ? _c(\n            \"div\",\n            {\n              ref: \"thumbs\",\n              staticClass: \"owl-thumbs owl-carousel owl-theme owl-single-item\",\n              attrs: { id: \"thumb-carousel\" }\n            },\n            _vm._l(_vm.carouselImages, function(imagePreview, index) {\n              return _c(\"div\", { staticClass: \"prop-1-1\" }, [\n                _c(\n                  \"div\",\n                  {\n                    staticClass: \"image-container\",\n                    on: {\n                      click: function($event) {\n                        return _vm.goTo(index)\n                      }\n                    }\n                  },\n                  [\n                    _c(\"lazy-img\", {\n                      class: { active: _vm.currentItem === index },\n                      attrs: {\n                        \"picture-class\": \"owl-thumb border-appearance\",\n                        \"image-url\": imagePreview.url,\n                        alt: _vm.getAltText(imagePreview),\n                        title: _vm.getImageName(imagePreview)\n                      }\n                    })\n                  ],\n                  1\n                )\n              ])\n            }),\n            0\n          )\n        : _vm._e()\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../vue-loader/lib/index.js??vue-loader-options!./ItemImageCarousel.vue?vue&type=script&lang=js&\"","<template>\n    <div itemscope itemtype=\"http://schema.org/Thing\">\n        <div class=\"single-carousel owl-carousel owl-theme owl-single-item mt-0\" ref=\"single\">\n            <div v-for=\"image in singleImages\" class=\"prop-1-1\">\n                <a :href=\"image.url\" :data-lightbox=\"'single-item-image' + _uid\">\n                    <img class=\"owl-lazy\" :data-src=\"image.url\" :alt=\"getAltText(image)\" :title=\"getImageName(image)\">\n                </a>\n            </div>\n        </div>\n        <div v-if=\"showThumbs\" id=\"thumb-carousel\" class=\"owl-thumbs owl-carousel owl-theme owl-single-item\" ref=\"thumbs\">\n            <div class=\"prop-1-1\" v-for=\"(imagePreview, index) in carouselImages\">\n                <div class=\"image-container\" @click=\"goTo(index)\">\n                    <lazy-img\n                        picture-class=\"owl-thumb border-appearance\"\n                        v-bind:class=\"{ 'active': currentItem === index}\"\n                        :image-url=\"imagePreview.url\"\n                        :alt=\"getAltText(imagePreview)\"\n                        :title=\"getImageName(imagePreview)\">\n                    </lazy-img>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { isNullOrUndefined } from \"../../helper/utils\";\nimport \"owl.carousel\";\nimport { mapState } from \"vuex\";\n\nexport default {\n    props: {\n        maxQuantity:\n        {\n            type: Number,\n            default: 10\n        },\n        imageUrlAccessor:\n        {\n            type: String,\n            default: \"url\"\n        },\n        showThumbs:\n        {\n            type: Boolean,\n            default: true\n        },\n        showDots:\n        {\n            type: Boolean,\n            default: true\n        },\n        animationStyle:\n        {\n            type: String,\n            default: \"standard\"\n        },\n        pluginPath:\n        {\n            type: String,\n            default: \"\"\n        }\n    },\n\n    inject: {\n        itemId: {\n            default: null\n        }\n    },\n\n    data()\n    {\n        return {\n            currentItem: 0\n        };\n    },\n\n    computed:\n    {\n        currentVariation() {\n            return this.$store.getters[`${this.itemId}/currentItemVariation`]\n        },\n\n        carouselImages()\n        {\n            return this.orderByPosition(\n                this.$options.filters.itemImages(\n                    this.currentVariation.images,\n                    \"urlPreview\"\n                )\n            ).slice(0, this.maxQuantity);\n        },\n\n        singleImages()\n        {\n            return this.orderByPosition(\n                this.$options.filters.itemImages(\n                    this.currentVariation.images,\n                    this.imageUrlAccessor\n                )\n            ).slice(0, this.maxQuantity);\n        }\n    },\n\n    watch: {\n        currentVariation:\n        {\n            handler(val, oldVal)\n            {\n                if (val !== oldVal)\n                {\n                    setTimeout(() =>\n                    {\n                        this.reInitialize();\n                    }, 1);\n                }\n            },\n            deep: true\n        }\n    },\n\n    mounted()\n    {\n        this.$nextTick(() =>\n        {\n            this.loadLightbox().then(() =>\n                {\n                    this.initCarousel();\n                    this.initThumbCarousel();\n                })\n                .catch(event =>\n                {\n                    console.log(\"error while loading lightbox\", event);\n                });\n        });\n    },\n\n    methods:\n    {\n        getImageCount()\n        {\n            return this.carouselImages.length > this.maxQuantity ? this.maxQuantity : this.carouselImages.length;\n        },\n\n        reInitialize()\n        {\n            const $owl = $(this.$refs.single);\n\n            $owl.trigger(\"destroy.owl.carousel\");\n            $owl.html($owl.find(\".owl-stage-outer\").html()).removeClass(\"owl-loaded\");\n            $owl.find(\".owl-item\").remove();\n\n            const $thumbs = $(this.$refs.thumbs);\n\n            $thumbs.trigger(\"destroy.owl.carousel\");\n            $thumbs.html($thumbs.find(\".owl-stage-outer\").html()).removeClass(\"owl-loaded\");\n            $thumbs.find(\".owl-item\").remove();\n\n            this.initCarousel();\n            this.initThumbCarousel();\n        },\n\n        initCarousel()\n        {\n            const imageCount = this.getImageCount();\n            const carouselSettings = {\n                autoHeight       : true,\n                dots             : this.showDots,\n                items            : 1,\n                lazyLoad         : true,\n                rewind           : true,\n                margin           : 10,\n                mouseDrag        : imageCount > 1,\n                nav              : imageCount > 1,\n                navClass         : [\n                    \"owl-single-item-nav left carousel-control\",\n                    \"owl-single-item-nav right carousel-control\"\n                ],\n                navContainerClass: \"\",\n                navText          : [\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i>\",\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-right\\\" aria-hidden=\\\"true\\\"></i>\"\n                ],\n                smartSpeed       : 350,\n                onChanged: event =>\n                {\n                    const $thumb = $(this.$refs.thumbs);\n\n                    $thumb.trigger(\"to.owl.carousel\", [\n                        event.page.index,\n                        350\n                    ]);\n                }\n            };\n\n            if (this.animationStyle !== \"standard\")\n            {\n                carouselSettings.animateOut = this.animationStyle;\n            }\n\n            $(this.$refs.single).owlCarousel(carouselSettings);\n\n            if (!isNullOrUndefined(window.lightbox))\n            {\n                lightbox.option({\n                    wrapAround: true\n                });\n            }\n\n            $(this.$refs.single).on(\"changed.owl.carousel\", event =>\n            {\n                this.currentItem = event.page.index;\n            });\n        },\n\n        initThumbCarousel()\n        {\n            $(this.$refs.thumbs).owlCarousel({\n                autoHeight       : true,\n                dots             : false,\n                items            : 5,\n                lazyLoad         : true,\n                loop             : false,\n                margin           : 10,\n                mouseDrag        : false,\n                center           : false,\n                nav              : true,\n                navClass         : [\n                    \"owl-single-item-nav left carousel-control\",\n                    \"owl-single-item-nav right carousel-control\"\n                ],\n                navContainerClass: \"\",\n                navText          : [\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-left\\\" aria-hidden=\\\"true\\\"></i>\",\n                    \"<i class=\\\"owl-single-item-control fa fa-chevron-right\\\" aria-hidden=\\\"true\\\"></i>\"\n                ],\n                smartSpeed       : 350\n            });\n        },\n\n        goTo(index)\n        {\n            const $owl = $(this.$refs.single);\n\n            $owl.trigger(\"to.owl.carousel\", [\n                index,\n                350\n            ]);\n        },\n\n        orderByPosition(list)\n        {\n            return list.sort(\n                (entryA, entryB) =>\n                {\n                    if (entryA.position > entryB.position)\n                    {\n                        return 1;\n                    }\n                    if (entryA.position < entryB.position)\n                    {\n                        return -1;\n                    }\n\n                    return 0;\n                });\n        },\n\n        getAltText(image)\n        {\n            return image && image.alternate ? image.alternate : this.$options.filters.itemName(this.currentVariation);\n        },\n\n        getImageName(image)\n        {\n            return image && image.name ? image.name : this.$options.filters.itemName(this.currentVariation);\n        },\n\n        loadLightbox()\n        {\n            return new Promise((resolve, reject) =>\n            {\n                const script = document.querySelector(\"script#lightboxscript\");\n    \n                if (!isNullOrUndefined(script))\n                {\n                    resolve();\n                }\n                else\n                {\n                    const script = document.createElement(\"script\");\n    \n                    script.type = \"text/javascript\";\n                    script.id = \"lightboxscript\";\n                    script.src = `${ this.pluginPath }/js/dist/lightbox.min.js`;\n    \n                    script.addEventListener(\"load\", () => resolve(), false);\n                    script.addEventListener(\"error\", event => reject(event), false);\n    \n                    document.body.appendChild(script);\n                }\n            });\n        }\n    }\n}\n</script>\n","import { render, staticRenderFns } from \"./ItemImageCarousel.vue?vue&type=template&id=73945c30&\"\nimport script from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemImageCarousel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Users/alex/Documents/GitHub/own-Git-waldorfweb/ArcheNS/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('73945c30')) {\n      api.createRecord('73945c30', component.options)\n    } else {\n      api.reload('73945c30', component.options)\n    }\n    module.hot.accept(\"./ItemImageCarousel.vue?vue&type=template&id=73945c30&\", function () {\n      api.rerender('73945c30', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"node_modules/Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue\"\nexport default component.exports"],"sourceRoot":""}