(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{278:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));const s=["btn-sm","btn-lg"],i={sm:"btn-sm",md:"",lg:"btn-lg"},l={props:{buttonSize:{type:[String,null],default:null,validator:e=>-1!==["",...s,...Object.keys(i)].indexOf(e)}},computed:{buttonSizeClass(){return i.hasOwnProperty(this.buttonSize)?i[this.buttonSize]:this.buttonSize}}}},341:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form",{attrs:{id:"newsletter-input-form_"+e._uid,method:"post"},on:{submit:function(t){return t.preventDefault(),e.validateData(t)}}},[a("div",{staticClass:"row"},[e.showNameInputs?a("div",{staticClass:"col-6"},[a("div",{staticClass:"input-unit"},[a("label",{attrs:{for:"first-name-input_"+e._uid}},[e._v(e._s(e.$translate("Ceres::Template.newsletterFirstName")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.firstName,expression:"firstName"}],attrs:{type:"text",id:"first-name-input_"+e._uid},domProps:{value:e.firstName},on:{input:function(t){t.target.composing||(e.firstName=t.target.value)}}})])]):e._e(),e._v(" "),e.showNameInputs?a("div",{staticClass:"col-6 pl-0"},[a("div",{staticClass:"input-unit"},[a("label",{attrs:{for:"last-name-input_"+e._uid}},[e._v(e._s(e.$translate("Ceres::Template.newsletterLastName")))]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.lastName,expression:"lastName"}],attrs:{type:"text",id:"last-name-input_"+e._uid},domProps:{value:e.lastName},on:{input:function(t){t.target.composing||(e.lastName=t.target.value)}}})])]):e._e(),e._v(" "),a("div",{staticClass:"col-12"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-unit",attrs:{"data-validate":"mail"}},[a("label",{attrs:{for:"email-input-id_"+e._uid}},[e._v(e._s(e.$translate("Ceres::Template.newsletterEmail"))+" *")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"email",autocomplete:"email",id:"email-input-id_"+e._uid},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.honeypot,expression:"honeypot"}],staticClass:"honey",attrs:{autocomplete:"none",type:"text",name:"username",tabindex:"-1"},domProps:{value:e.honeypot},on:{input:function(t){t.target.composing||(e.honeypot=t.target.value)}}})])]),e._v(" "),e.showPrivacyPolicyCheckbox?a("div",{staticClass:"col-12"},[a("div",{staticClass:"form-check small",attrs:{"data-validate":""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privacyPolicyValue,expression:"privacyPolicyValue"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"privacy-policy-accept-id_"+e._uid,name:"privacy-policy-accept"},domProps:{checked:Array.isArray(e.privacyPolicyValue)?e._i(e.privacyPolicyValue,null)>-1:e.privacyPolicyValue},on:{change:function(t){var a=e.privacyPolicyValue,s=t.target,i=!!s.checked;if(Array.isArray(a)){var l=e._i(a,null);s.checked?l<0&&(e.privacyPolicyValue=a.concat([null])):l>-1&&(e.privacyPolicyValue=a.slice(0,l).concat(a.slice(l+1)))}else e.privacyPolicyValue=i}}}),e._v(" "),a("label",{staticClass:"form-check-label",attrs:{for:"privacy-policy-accept-id_"+e._uid},domProps:{innerHTML:e._s(e.privacyPolicyText)}})])]):e._e(),e._v(" "),a("div",{staticClass:"col-12 mt-3"},[a("div",{staticClass:"input-group-btn"},[a("button",{staticClass:"btn btn-block btn-primary btn-appearance",class:e.buttonSizeClass,attrs:{type:"button",disabled:e.isDisabled},on:{click:e.validateData}},[a("icon",{attrs:{icon:"paper-plane-o",loading:e.isDisabled}}),e._v("\n                    "+e._s(e.$translate("Ceres::Template.newsletterSubscribeButtonLabel"))+"\n                ")],1)])])])])};s._withStripped=!0;var i=a(3),l=a(6),r=a(15),n={mixins:[a(278).a],props:{showNameInputs:{type:Boolean,default:!1},showPrivacyPolicyCheckbox:{type:Boolean,default:!0},emailFolder:{type:Number,default:0}},data:()=>({firstName:"",lastName:"",email:"",isDisabled:!1,privacyPolicyValue:!1,honeypot:""}),computed:{privacyPolicyText(){const e='<a href="'+App.urls.privacyPolicy+'" target="_blank"><span class="text-primary text-appearance">'+this.$translate("Ceres::Template.checkoutPrivacyPolicy",{hyphen:"&shy;"})+"</span></a>";return this.$translate("Ceres::Template.newsletterAcceptPrivacyPolicy",{policy:e})}},methods:{validateData(){this.isDisabled=!0,r.default.validate($("#newsletter-input-form_"+this._uid)).done(()=>{this.save()}).fail(e=>{r.default.markInvalidFields(e,"error"),this.isDisabled=!1})},save(){i.default.post("/rest/io/customer/newsletter",{email:this.email,firstName:this.firstName,lastName:this.lastName,emailFolder:this.emailFolder,honeypot:this.honeypot}).done(e=>{e.containsHoneypot?l.default.warn(this.$translate("Ceres::Template.newsletterHoneypotWarning")):l.default.success(this.$translate("Ceres::Template.newsletterSuccessMessage")).closeAfter(3e3),this.resetInputs()}).fail(()=>{l.default.error(this.$translate("Ceres::Template.newsletterErrorMessage")).closeAfter(5e3)}).always(()=>{this.isDisabled=!1})},resetInputs(){this.firstName="",this.lastName="",this.email="",this.privacyPolicyValue=!1}}},o=a(4),c=Object(o.a)(n,s,[],!1,null,null,null);c.options.__file="node_modules/Ceres/resources/js/src/app/components/newsletter/NewsletterInput.vue";t.default=c.exports}}]);
//# sourceMappingURL=ceres-10.min.js.map