(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{346:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{itemscope:"",itemtype:"http://schema.org/Thing"}},[i("div",{ref:"single",staticClass:"single-carousel owl-carousel owl-theme owl-single-item mt-0"},t._l(t.singleImages,(function(e){return i("div",{staticClass:"prop-1-1"},[i("a",{attrs:{href:e.url,"data-lightbox":"single-item-image"+t._uid}},[i("img",{staticClass:"owl-lazy",attrs:{"data-src":e.url,alt:t.getAltText(e),title:t.getImageName(e)}})])])})),0),t._v(" "),t.showThumbs?i("div",{ref:"thumbs",staticClass:"owl-thumbs owl-carousel owl-theme owl-single-item",attrs:{id:"thumb-carousel"}},t._l(t.carouselImages,(function(e,s){return i("div",{staticClass:"prop-1-1"},[i("div",{staticClass:"image-container",on:{click:function(e){return t.goTo(s)}}},[i("lazy-img",{class:{active:t.currentItem===s},attrs:{"picture-class":"owl-thumb border-appearance","image-url":e.url,alt:t.getAltText(e),title:t.getImageName(e)}})],1)])})),0):t._e()])};s._withStripped=!0;var a=i(1),o=(i(152),{props:{maxQuantity:{type:Number,default:10},imageUrlAccessor:{type:String,default:"url"},showThumbs:{type:Boolean,default:!0},showDots:{type:Boolean,default:!0},animationStyle:{type:String,default:"standard"},pluginPath:{type:String,default:""}},inject:{itemId:{default:null}},data:()=>({currentItem:0}),computed:{currentVariation(){return this.$store.getters[this.itemId+"/currentItemVariation"]},carouselImages(){return this.orderByPosition(this.$options.filters.itemImages(this.currentVariation.images,"urlPreview")).slice(0,this.maxQuantity)},singleImages(){return this.orderByPosition(this.$options.filters.itemImages(this.currentVariation.images,this.imageUrlAccessor)).slice(0,this.maxQuantity)}},watch:{currentVariation:{handler(t,e){t!==e&&setTimeout(()=>{this.reInitialize()},1)},deep:!0}},mounted(){this.$nextTick(()=>{this.loadLightbox().then(()=>{this.initCarousel(),this.initThumbCarousel()}).catch(t=>{console.log("error while loading lightbox",t)})})},methods:{getImageCount(){return this.carouselImages.length>this.maxQuantity?this.maxQuantity:this.carouselImages.length},reInitialize(){const t=$(this.$refs.single);t.trigger("destroy.owl.carousel"),t.html(t.find(".owl-stage-outer").html()).removeClass("owl-loaded"),t.find(".owl-item").remove();const e=$(this.$refs.thumbs);e.trigger("destroy.owl.carousel"),e.html(e.find(".owl-stage-outer").html()).removeClass("owl-loaded"),e.find(".owl-item").remove(),this.initCarousel(),this.initThumbCarousel()},initCarousel(){const t=this.getImageCount(),e={autoHeight:!0,dots:this.showDots,items:1,lazyLoad:!0,rewind:!0,margin:10,mouseDrag:t>1,nav:t>1,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350,onChanged:t=>{$(this.$refs.thumbs).trigger("to.owl.carousel",[t.page.index,350])}};"standard"!==this.animationStyle&&(e.animateOut=this.animationStyle),$(this.$refs.single).owlCarousel(e),Object(a.d)(window.lightbox)||lightbox.option({wrapAround:!0}),$(this.$refs.single).on("changed.owl.carousel",t=>{this.currentItem=t.page.index})},initThumbCarousel(){$(this.$refs.thumbs).owlCarousel({autoHeight:!0,dots:!1,items:5,lazyLoad:!0,loop:!1,margin:10,mouseDrag:!1,center:!1,nav:!0,navClass:["owl-single-item-nav left carousel-control","owl-single-item-nav right carousel-control"],navContainerClass:"",navText:['<i class="owl-single-item-control fa fa-chevron-left" aria-hidden="true"></i>','<i class="owl-single-item-control fa fa-chevron-right" aria-hidden="true"></i>'],smartSpeed:350})},goTo(t){$(this.$refs.single).trigger("to.owl.carousel",[t,350])},orderByPosition:t=>t.sort((t,e)=>t.position>e.position?1:t.position<e.position?-1:0),getAltText(t){return t&&t.alternate?t.alternate:this.$options.filters.itemName(this.currentVariation)},getImageName(t){return t&&t.name?t.name:this.$options.filters.itemName(this.currentVariation)},loadLightbox(){return new Promise((t,e)=>{const i=document.querySelector("script#lightboxscript");if(Object(a.d)(i)){const i=document.createElement("script");i.type="text/javascript",i.id="lightboxscript",i.src=this.pluginPath+"/js/dist/lightbox.min.js",i.addEventListener("load",()=>t(),!1),i.addEventListener("error",t=>e(t),!1),document.body.appendChild(i)}else t()})}}}),r=i(4),n=Object(r.a)(o,s,[],!1,null,null,null);n.options.__file="node_modules/Ceres/resources/js/src/app/components/item/ItemImageCarousel.vue";e.default=n.exports}}]);
//# sourceMappingURL=ceres-30.min.js.map